<html>
  <head>
    <title id="title">Why WebGL and node.js (and websockets) are important</title>
    <link rel="stylesheet" type="text/css" href="/style.css"></link>
    <meta name="Description" content="Rob Ashton's blog and various other things. Javascript, C#, testing, whatever.">
    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-11207442-1']);
      _gaq.push(['_setDomainName', 'codeofrob.com']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>
  </head>
  <body>
    <a href="http://feeds.feedburner.com/RobAshton">Subscribe to my blog</a>
    <div id="blog-entry">
      <h1 id="post-title">Why WebGL and node.js (and websockets) are important</h1>
      <div id="post">
		<p>I've just moved to a new role in Belgium, and this means I've got time for some writing again, the popular vote on Twitter is that I blog my thoughts on these two cookies, and as they're what I'm currently ploughing my way through I can't help but pander to those requests.</p>


<p>If you're completely new to the wonderful world of these two technologies, then bear with me - this isn't that technical a post, and it might prompt you to read the next entries in the series coming up and maybe even dabble in it yourselves.</p>

<p><b>WebGl?</b></p>

<p> WebGL is a standard created to allow developers to embed a full on 3D accelerated experience inside the browser (using the canvas element), by developing against the already well known OpenGL API. It really is that simple - in Javascript, give us the method calls we're already used to in other languages to render our shiny stuff on screen.</p>

<p> And I really do mean shiny stuff, we are totally able to write our very own vertex and index shaders (mini-programs that run on the GPU across uploaded data) in HLSL (Again, the way we already know how) in order to create awesome shiny pieces of wonder ala this demo <a href="https://cvs.khronos.org/svn/repos/registry/trunk/public/webgl/sdk/demos/google/particles/index.html">here</a></p>:

<p><img src="http://codeofrob.com/images/internal_codeofrob_com/shinygl.png" height="422" width="564"></p>

<p>Why is this great? It is a standard that browser vendors can implement (and already do, at least with Chrome, Firefox and Safari), allowing developers to create fully featured games (or applications, hah) that are cross platform right out of the box - and I don't just mean cross platform in terms of Apple/Windows/Linux here (Although that is <b>immense</b> in itself), I mean cross platform as in across all mobile devices as they begin to implement the standard too</p><p> (With Google pushing it into Chrome so fast, you'd better bet it'll end up on Android, and we'd hope that with Apple supposedly being all "pro standards" that they'd get it on the iPhone seeming as it already runs OpenGL).</p>

<p>That's right, games and rich applications that you can deliver from the internet to any client with a modern web browser - whether it be tablet, phone, laptop or desktop; there be gold in those there hills! </p>

<p>With local storage and the ability to save those pages and their dependencies to the hard drive we essentially also give them the ability to run off-line as desktop applications too. You can see that this is going to be a big thing as we move to more web-oriented computer systems (Google OS etc)</p>

<p><b>Node.js and Websockets<br></b></p><p>If we're going to be writing our client code in Javascript, then it makes sense to go and write our server in the same language, allowing us to easily share code between the two. Websockets give us a great way of real-time communication with the web server. </p>

<p>They're currently disabled while they sort out security concerns, but the gap is serviced with socket.io allowing us to write code against whatever else is there and be forwards compatible for when they're enabled again. </p>

<p>Node.js, if you didn't know already, is a way to write completely non-blocking asynchronous code on the server (or desktop), hosted in Google's V8 Javascript engine (pretty darned fast).</p>

<p>It's ideal as a way of writing fast and efficient server code for communicating data between the clients connected via Websockets. It also has a large community and a great library of packages (data persistence, not a problem). It's also delightfully simple to use (A basic chat server and client in 15 lines of code?).</p>

<p>Oh, and the plans for web-sockets will allow p2p communication, so it's not like you have to place your entire load on a server either. I can see some very exciting things happening here the coming years.</p>

<p>This amazing set-up looks something like this:</p><p><img style="max-width: 800px;" src="http://codeofrob.com/images/internal_codeofrob_com/javascript.png" height="504" width="653"></p>
<p>Hi guys, it's the future and this is what I look like.</p>

<p><b>Where I'm going with this<br></b></p><p>What I'm trying to say is that with this combination of techno-wizardry, we have a way of easily deploying rich applications to potentially anybody on the planet, and provide a mechanism for getting them to communicate easily in real-time. This can all be easily developed in an already ubiquitous language, using frameworks we're readily familiar with and with a community that is growing at a vast rate of knots. </p>

<p>I know it's an oft-repeated statement, but the line between the desktop and web grows ever thinner, and it is swiftly becoming less relevant what the underlying platform actually is. With this, we move another step closer to the dream world of everybody being able to do anything anywhere. Hurrah!</p>

<p><b>The coming micro series of posts</b></p><p>Over the weekend, @<a href="http://twitter.com/ToJans">ToJans</a>, @<a href="http://twitter.com/seagile">Seagile</a> and I dived right into this technology stack, none of us are <i>really</i> Javascript developers and we made a few mistakes to begin with, but over the course of a day and a bit we managed to get the most amazing playable over the Internet game there is written.</p>

<p>It looked something like this:</p><p><img style="max-width: 800px;" src="http://codeofrob.com/images/internal_codeofrob_com/pong%201.png"></p>

<p>Okay - I totally admit we could have done this with the plain old 2D acceleration with the HTML5 canvas (And that is a viable option for cross platform interactive applications too!!), but as a learning exercise we have to start somewhere, and WebGL 3D acceleration with an orthographic projection matrix is probably the simplest place we <i>can</i> start. </p>

<p>I'll be finishing it off and sticking it publicly on the Internet somewhere over the coming week before moving onto a more "real" project I have planned with the same technology, but in the coming posts I'll show you all what this actually looks like behind the scenes, how the technologies fit together and some patterns we used that kept our code clean(er) during this process. </p><p>Ace. Exciting. Super cool - all that.</p>
	</div>
      <div id="links">
        <a href="/">Go back to the index</a><br />
        <a href="http://feeds.feedburner.com/RobAshton">Subscribe to my blog</a>
        <a href="http://twitter.com/robashton">@robashton</a>
      </div>
      <div id="inqob_job_postings"></div> 
      <script type="text/javascript" charset="utf-8">
        var __inqob_settings = {
          email_address:  'robashton@codeofrob.com', 
          token:          '',
          debug: false,
          items: [{
            keyword: 'codeofrob', 
            price: 100 
          }]
        };

        (function(is) {
          var sc = document.createElement('script'); sc.type = 'text/javascript'; sc.async = true;
          var src = (document.location.protocol == 'https:' ? 'https://' : 'http://') + 'inqob.com/get/script';
          var q = [];
          q.push('?t='+ new Date().getTime()); 
          q.push('token=' + is.token); 
          q.push('email_address=' + is.email_address); 
          q.push('href=' + encodeURIComponent(window.location.href));
          sc.src = src + q.join('&');
          var s = document.getElementsByTagName('script')[0]; 
          s.parentNode.insertBefore(sc, s);
        })(__inqob_settings);      
      </script>
      <div id="disqus">
        <div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'codeofrob'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
      </div>
    </div>
    <div id="post-comments"><div class="comment">
<div class="comment-author">
<img src="http://www.gravatar.com/avatar.php?gravatar_id=f2fbdc6722a747b791658e37592f4757&size=50&default=identicon"/>
<p>Bart Czernicki</p></div>
<div class="comment-body">
<br/> 				I think all this stuff is great and will enable HTML5 RIA-like applications, but the BIGGEST question is how will this run on mobile browsers and support for gestures. Why?  Because if the mobile experience sucks for HTML5/gestures and can't compete with native iPhone/Android apps this will never take off.  Because if you are limited to the desktop/laptop..then I can write Silverlight or Flash applications which are several revs already in delivering these features (i.e. GPU acceleration, vector based printing, sockets, Silverlight can scale to 8 cores, parallel libaries in Silverlight etc.)
				</div></div>
<div class="comment">
<div class="comment-author">
<img src="http://www.gravatar.com/avatar.php?gravatar_id=b6a6693f03003f7ab0f9b0882e9c2dde&size=50&default=identicon"/>
<p>robashton</p></div>
<div class="comment-body">
<br/> 				The mobile experience sucks for HTML5/gestures *now*, but as more and more apps move to this way of thinking it'll improve (Already is to an extent with libraries like: http://plugins.jquery.com/plugin-tags/gesture )I do think that any learning or experimenting _now_ is important, but only because it'll be useful in the _future_ :-)
				</div></div>
<div class="comment">
<div class="comment-author">
<img src="http://www.gravatar.com/avatar.php?gravatar_id=6a69d8c12aadd1052a5a65cb9023e783&size=50&default=identicon"/>
<p>fschwiet</p></div>
<div class="comment-body">
<br/> 				I apologize if I mentioned this before, but if you're writing a lot of javascript then I'd encourage you to try using Jasmine (http://pivotal.github.com/jasmine/) as your test language.  Its great.  The jasmine google group has some discussions specific to node.js testing though I haven't followed them.
				</div></div>
<div class="comment">
<div class="comment-author">
<img src="http://www.gravatar.com/avatar.php?gravatar_id=b6a6693f03003f7ab0f9b0882e9c2dde&size=50&default=identicon"/>
<p>robashton</p></div>
<div class="comment-body">
<br/> 				I suspect I shall - although I don't really like BDD style frameworks - I prefer to practise outside in testing from more traditional test-method-based unit testing.One of the big take-homes from this was that testing is seriously important, and I wish I'd done it on this project.
				</div></div>
<div class="comment">
<div class="comment-author">
<img src="http://www.gravatar.com/avatar.php?gravatar_id=7c3b45d8f867a5e405f8bb54424e2fdd&size=50&default=identicon"/>
<p>rafek</p></div>
<div class="comment-body">
<br/> 				This is just awesome! I'd like to see some codez here.
				</div></div>
</div>
  </body>
</html>
