<html>
  <head>
    <title id="title">My relationship with SOLID - The big O</title>
    <link rel="stylesheet" type="text/css" href="/style.css"></link>
    <meta name="Description" content="Rob Ashton's blog and various other things. Javascript, C#, testing, whatever.">
    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-11207442-1']);
      _gaq.push(['_setDomainName', 'codeofrob.com']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>
  </head>
  <body>
    <a class="subscribe" href="http://feeds.feedburner.com/RobAshton">Subscribe to my blog</a>
    <div id="blog-entry">
      <h1 id="post-title">My relationship with SOLID - The big O</h1>
      <h6>Published on <span class="date">2013-3-19</span></h6>
      <div id="post"><p>I'm blogging about <a href="/entries/my-relationship-with-solid---starting-with-s.html">SOLID</a> for some reason, and now we're onto the beast that set me off</p>

<p><strong>OCP</strong></p>

<p>Yikes</p>

<p><blockquote>
    They are “Open For Extension”. This means that the behavior of the module can be extended. That we can make the module behave in new and different ways as the requirements of the application change, or to meet the needs of new applications.
    They are “Closed for Modiﬁcation”. The source code of such a module is inviolate. No one is allowed to make source code changes to it.
  </blockquote></p>

<p>Thanks <a href="https://docs.google.com/file/d/0BwhCYaYDn8EgN2M5MTkwM2EtNWFkZC00ZTI3LWFjZTUtNTFhZGZiYmUzODc1/edit?hl=en">Uncle Bob</a>, you're right, this <em>is</em> <a href="http://blog.8thlight.com/uncle-bob/2013/03/08/AnOpenAndClosedCase.html">over-stated</a>, and the cause of so many of the over-designed pieces of crap I've had to deal with so far in my career...</p>

<p>This is the conversation I imagine developers having with themselves when writing this done, I don't have to imagine too hard because I've been there too:</p>

<p><blockquote>
    What if somebody at some point wants to change this so they can have another behaviour for this value, I'd better use the strategy pattern here instead of this switch statement, but oh my word now I've done that what if somebody wants to use this code from some other system than this one, I'd better stick a command system in front of this and use double dispatch for handling them - but wait, what if other code needs to react from this and do something else, I'd better raise a pile of events, but what if those aren't enough I'd better make sure I split all this behaviours out into their own interfaces so they can be overridden and...
  </blockquote></p>

<p>And on it goes until suddenly what was a couple of classes behind a controller or presenter blow up into a mess of a hundred classes that all do the square root of diddly squat but together do manage to cause a lot of headaches in anybody coming across the code so that's okay.</p>

<p>Now, I don't <em>care</em> what the original sentiment was behind Uncle Bob's writing, and I don't <em>care</em> what it is actually supposed to mean - what I do <em>care</em> about is the results of this and what I do <em>care</em> about is what I consider to be code open to extension but closed to modification.</p>

<p><blockquote>
    Good code is code that another developer can change the behaviour of easily and easily see the consequences of that change.
  </blockquote></p>

<p>At this point in the road, we can go in one of two directions - that is to say, agree with <a href="http://twitter.com/jonskeet">@jonskeet</a>'s well publicised opinion that all code should be immutable by default (in that classes should all be sealed by default, methods should all be sealed by default etc), or go in the other direction and say that the monkey patching ability in Ruby and JS help us do this just fine.</p>

<p>I hate to say this, but I lean towards <a href="http://twitter.com">@jonskeet</a>'s opinion at this point, which is to say that any extension points built in to your code should be an explicit decision that is obvious to the consumer, and protects them against the dangers of screwing with state they don't understand.</p>

<p><strong>Let's make call one</strong></p>

<p>Let's say we do make that call (because Jon is where all of this started, so taking his perspective will help see where he is coming from), then surely if we're going to follow OCP then we have to from the very beginning bake in these extension points on a <em>just in case</em> basis. </p>

<p>Woah no, no no. Let's say we take this stance, then you know what? Code that has easily understandable behaviour will follow the single responsibility principle sensibly so we can see exactly what an object does and how changing it might impact its internal behaviour.  (Of course, we'll have tests around the usage of this so we'll have tests around the external behaviour too)</p>

<p>Creating spaghetti code is contrary to this goal and should be avoided. Create code that is easy to understand and sure - hedge your bets so if something comes up the future, the developer having to make the changes doesn't have to fight the layers you've put in his way.</p>

<p><strong>Let's make call two</strong></p>

<p>We're in JS land now, and we can just screw over any object by fiddling with its prototype, the rules have gone out of the window. This is the <em>land of possibility</em> people, and we have the power to change things.</p>

<p>Does this mean we haven't got to worry about OCP? Nay, although granted you'll see in the code being delivered in this space a complete disregard for it up until the point a feature is requested at which point they'll might be granted access but in the meantime, <em>workaround</em> it and make sure you test to make sure you haven't screwed things up.</p>

<p><strong>Option three</strong></p>

<p>Wait, I didn't mention an option three - but you see, there is one.</p></div>
      <div id="links">
        <a href="/">Index</a>
        <a href="http://feeds.feedburner.com/RobAshton">Subscribe</a>
        <a href="http://twitter.com/robashton">Follow me</a>
      </div>
      <div id="inqob_job_postings"></div> 
      <script type="text/javascript" charset="utf-8">
        var __inqob_settings = {
          email_address:  'robashton@codeofrob.com', 
          token:          '',
          debug: false,
          items: [{
            keyword: 'codeofrob', 
            price: 100 
          }]
        };

        (function(is) {
          var sc = document.createElement('script'); sc.type = 'text/javascript'; sc.async = true;
          var src = (document.location.protocol == 'https:' ? 'https://' : 'http://') + 'inqob.com/get/script';
          var q = [];
          q.push('?t='+ new Date().getTime()); 
          q.push('token=' + is.token); 
          q.push('email_address=' + is.email_address); 
          q.push('href=' + encodeURIComponent(window.location.href));
          sc.src = src + q.join('&');
          var s = document.getElementsByTagName('script')[0]; 
          s.parentNode.insertBefore(sc, s);
        })(__inqob_settings);      
      </script>
      <div id="disqus">
        <div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'codeofrob'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
      </div>
    </div>
    <div id="post-comments">

    </div>
  </body>
</html>
