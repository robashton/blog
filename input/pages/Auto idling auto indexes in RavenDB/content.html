<p><a href="/entries/adding-idle-indexes-to-ravendb.html&#39;">Last entry</a> I talked about the addition of a priority flag on indexes to save resources on un-important indexes.</p>

<p>This is great news for those indexes that are created and managed manually (once Raven Studio has the UI for it anyway), but a lot of customers are using auto indexes (a feature I&#39;m proud to say I had a hand in <a href="http://ayende.com/blog/4667/ravens-dynamic-queries">All those years ago</a>).</p>

<p>What does this therefore mean for this type of index? Well, the way RavenDB currently works for those unfamiliar with it, is if you make a query for all the ponies with rainbow in their name like so:</p>

<pre><code>session.Query&lt;Pony&gt;().Where(pony =&gt; pony.Name.Contains(&quot;Rainbow&quot;))</code></pre>

<p></p>

<p>There is a query optimiser which will try to find an appropriate index to use for this query, and if it fails it will create an index for you at the following URL:</p>

<pre><code>/Index/Temp/PonyWithName</code></pre>

<p></p>

<p>Or something similar (I forget the exact conventions). After a period of time, the index will be deleted unless it is used within a certain threshold of activity.</p>

<p>On top of this, we now have idle indexes - so what does this mean? We can actually do a lot of this automatically now too, if we select the least-used indexes in the system <em>(for example, order all the auto-indexes by the last time they were queried, and if there is a big gap between the last index and the penultimate index, then demote the index automatically)</em></p>

<p>If the index is queried against after this, we can promote it again - happy days!</p>

<p>Having the database make these decisions for you keeps away any of the possible complexity of maintaining a well behaving RavenDB implementation.</p>

<p>I left off yesterday by talking about the Forced flag, the idea behind this is you can force an index to keep its current state by using the Studio and not have any of this fancy magic stuff happen to you.</p>

<p>Now, with this done - the next natural cause of action is obvious, what would that be...?</p>